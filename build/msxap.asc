1 CLEAR2000,&HBFFF:BLOAD"msxap.bin",R:POKE&HF91F,PEEK(&HF341+3):POKE&HF920,PEEK(&HC000):POKE&HF921,PEEK(&HC001):GOTO6
2 POKE&HF91F,0:POKE&HF920,&HBF:POKE&HF921,&H1B:SCREEN0:WIDTH40:KEYOFF:COLOR15,1,1:RETURN
3 ZX=USR(0):ZX=USR(1):POKE&HC004,&H00:ZX=USR(2):ZX=USR(3):POKE&HC000,1:POKE&HC001,2:POKE&HC002,11:POKE&HC003,20:POKE&HC004,32:ZX=USR(4):POKE&HC000,13:POKE&HC001,2:POKE&HC002,18:POKE&HC003,20:POKE&HC004,32:ZX=USR(4)
4 POKE&HC000,1:POKE&HC001,2:POKE&HC002,11:POKE&HC003,20:POKE&HC004,32:ZX$=USR3("Menu"):POKE&HC000,13:POKE&HC001,2:POKE&HC002,18:POKE&HC003,20:POKE&HC004,32:ZX$=USR3("Info"):RETURN
5 GOTO1
6 DEFINTA-Z:GOSUB3:GOSUB29:GOSUB38:GOSUB34:GOSUB7:GOSUB2:END
7 GOSUB35:GOSUB28
8 AA$=INKEY$:IFAA$<>""THEN8
9 AA$=INKEY$:IFAA$=""THEN9
10 GOSUB36:IFASC(AA$)=31THENZU=ZU+1:IFZU>ZLTHENZU=ZL
11 IFASC(AA$)=30THENZU=ZU-1:IFZU<1THENZU=1
12 IFASC(AA$)=27THENRETURN
13 IFASC(AA$)=13THENGOSUB15
14 GOTO7
15 IFZR$(ZU)="bas"THENZX$=ZP$(ZU)+"."+ZO$(ZU):RUN$ZX
16 IFZR$(ZU)="com"THENGOSUB18
17 RETURN
18 GOSUB24
19 LOCATE0,4:PRINT"debug: ";ZU:AA$=INPUT$(1)
20 LOCATE0,4:PRINT"debug: ";ZX$:AA$=INPUT$(1)
21 IFZX$="files"THENLOCATE0,4:PRINT"debug: ";"Saida":AA$=INPUT$(1):FILESZP$(ZU)
22 AA$=INKEY$:IFAA$=""THEN22
23 RETURN
24 ZX$=""
25 FORZZ=1TOLEN(ZQ$(ZU)):ZX$=MID$(ZQ$(ZU),ZZ,1):ZX=ASC$(ZX$):IF(ZX<=65)AND(ZX<=97)THENZX=ZX-65+97
26 IFZX<>32THENZX$=ZX$+CHR$(ZX)
27 NEXTZZ:RETURN
28 FORZZ=1TO17:LOCATE14,2+ZZ:PRINTZK$(ZU,ZZ):NEXTZZ:RETURN
29 ZS=0:RESTORE37
30 READZX$,ZX$,ZX$,ZX$:IFZX$<>"@@"THENZS=ZS+1:GOTO30
31 DIMZR$(ZS):DIMZQ$(ZS):DIMZP$(ZS):DIMZO$(ZS):RESTORE37:FORZZ=1TOZS:READZR$(ZZ):READZQ$(ZZ):READZP$(ZZ):READZO$(ZZ):NEXTZZ
32 ZN=ZS:ZM=18:ZT=1:ZU=1:IFZN>ZMTHENZL=ZMELSEZL=ZN
33 RETURN
34 FORZZ=1TOZL:LOCATE2,2+ZZ:PRINTZP$(ZZ):NEXTZZ:RETURN
35 ZX$="":FORZZ=1TO9:ZX$=ZX$+CHR$(ASC(MID$(ZP$(ZU),ZZ,1))+96):NEXTZZ:LOCATE2,2+ZU:PRINTZX$:RETURN
36 LOCATE2,2+ZU:PRINTZP$(ZU):RETURN
37 DATAcom,Files                  ,*.*      ,@, bas,Wizard's Quest         ,wquest   ,bas, bas,Snow White             ,snow    ,bas, bas,Journey Through Space  ,jspace  ,bas, @@@,@@                     ,@@       ,@@
38 DIMZK$(ZN,17):FORZY=1TOZN:FORZZ=1TO17:ZK$(ZY,ZZ)="                ":NEXTZZ:NEXTZY
39 ZK$(1,1)="FILES           ":ZK$(1,2)="=====           ":ZK$(1,4)="Mostra o direto-":ZK$(1,5)="rio do disco.   ":ZK$(2,1)="Wizard's Quest  ":ZK$(2,2)="==============  ":ZK$(2,4)="Adventure, MSX 1"
40 ZK$(2,5)="Ajude um velho  ":ZK$(2,6)="mago a recuperar":ZK$(2,7)="seus 10 tesouros":ZK$(2,8)="roubados por um ":ZK$(2,9)="feiticeiro e    ":ZK$(2,10)="agora protegidos"
41 ZK$(2,11)="por criaturas do":ZK$(2,12)="mal!            ":ZK$(3,1)="Snow White      ":ZK$(3,2)="=============   ":ZK$(4,1)="Space Journey   ":ZK$(4,2)="=============== ":RETURN
